<app-header></app-header>

<div class="container">
    <form #registerForm="ngForm" (ngSubmit)="register()">
      <div class="row">
        <div class="col-md-8 offset-md-2">
          <div class="register-form mx-auto">
            <h2 class="register-header text-center mb-4">Register</h2>
  
            <div class="form-group">
              <label for="phoneNumber">Phone Number</label>
              <input type="text"
                     class="form-control"
                     [(ngModel)]="phoneNumber"
                     name="phone"
                     required
                     minlength="10"
                     #phone="ngModel"
                     id="phoneNumber">
              <div class="divider-nospace"></div>
              <p class="text-danger" *ngIf="phone.errors?.['required'] && phone.touched">Phone number is required</p>
              <p class="text-danger" *ngIf="!phone.errors?.['required'] && phone.invalid && phone.touched">Phone number must be at least 10 characters</p>
            </div>
  
            <div class="form-group mt-3">
              <label for="password">Password</label>
              <input [type]="showPassword ? 'text' : 'password'"
                     class="form-control"
                     [(ngModel)]="password"
                     name="password"
                     required
                     minlength="3"
                     #pass="ngModel"
                     id="password">
              <i class="password-toggle fas" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'" (click)="togglePassword()"></i>
              <div class="divider-nospace"></div>
              <p class="text-danger" *ngIf="pass.invalid && pass.touched">Password must be at least 3 characters</p>
            </div>
  
            <div class="form-group mt-3">
              <label for="retype-password">Retype Password</label>
              <input [type]="showPassword ? 'text' : 'password'"
                     class="form-control"
                     [(ngModel)]="retypePassword"
                     name="retypePassword"
                     required
                     minlength="3"
                     #retypePass="ngModel"
                     id="retype-password"
                     (input)="checkPasswordsMatch()">
              <i class="password-toggle fas" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'" (click)="togglePassword()"></i>
              <div class="divider-nospace"></div>
              <p class="text-danger" *ngIf="retypePass.invalid && retypePass.touched">Password must be at least 3 characters</p>
              <p class="text-danger" *ngIf="password !== retypePassword && retypePass.touched">Passwords do not match</p>
            </div>
  
            <div class="form-group mt-3">
              <label for="full-name">Full Name</label>
              <input type="text"
                     class="form-control"
                     [(ngModel)]="fullName"
                     name="fullName"
                     required
                     #fullNameInput="ngModel"
                     id="full-name">
              <div class="divider-nospace"></div>
              <p class="text-danger" *ngIf="fullNameInput.invalid && fullNameInput.touched">Full name is required</p>
            </div>
  
            <div class="form-group mt-3">
              <label for="date-of-birth">Date of Birth</label>
              <input type="date"
                     class="form-control"
                     [(ngModel)]="dateOfBirth"
                     name="dateOfBirth"
                     required
                     #dob="ngModel"
                     (input)="checkFutureDate()"
                     id="date-of-birth">
              <div class="divider-nospace"></div>
              <p class="text-danger" *ngIf="dob.invalid && dob.errors?.['required'] && dob.touched">Date of birth is required</p>
              <p class="text-danger" *ngIf="dob.errors?.['futureDate'] && dob.touched">Date of birth must be before today's date</p>
            </div>
  
            <div class="form-group mt-3">
              <label for="address">Address</label>
              <input type="text"
                     class="form-control"
                     [(ngModel)]="address"
                     name="address"
                     required
                     #addressInput="ngModel"
                     id="address">
              <div class="divider-nospace"></div>
              <p class="text-danger" *ngIf="addressInput.invalid && addressInput.touched">Address is required</p>
            </div>
  
            <button type="submit"
                    class="register-button btn btn-primary w-100 mt-4"
                    [disabled]="!registerForm.valid">Register</button>
            <div class="divider mt-4"></div>
            <p class="text-center">Already have an account? <span><a href="/login" class="register-link">Login</a></span></p>
          </div>
        </div>
      </div>
    </form>
</div>

<app-footer></app-footer>
